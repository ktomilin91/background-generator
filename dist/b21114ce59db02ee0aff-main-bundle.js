(()=>{"use strict";const e=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},t=function(e,t){return Math.round(Math.random()*(t-e)+e)},n=function(e){return function(t,n,o){return t+Math.abs(n-e[o])}},o=function(e,t){return e.filter((function(e){return!(e===t||e.connectedDots.indexOf(t)>=0)})).reduce((function(e,o){return e.position.reduce(n(t.position),0)<o.position.reduce(n(t.position),0)?e:o}))},i=function(e,n){e.width=n.width,e.height=n.height;var i=e.getContext("2d"),a=function(e,n,i,a){for(var d=[],l=0;l<e;l++){var r=t(2,5);d.push({position:[t(20,n-20),t(20,i-20)],diameter:r-1,opacity:.2*r,speed:[t(-30,30)/100,t(-30,30)/100],numberOfLines:r,linesTo:[],connectedDots:[]})}for(var c=0;c<d.length;c++)for(var s=d[c],u=0;u<s.numberOfLines;u++){var p=o(d,s),g=a*t(5,15),h=t(20,100)/100;s.linesTo.push({dot:p,initiated:!0,opacity:g*h/g,lineLifespan:g*h,totalLineLifespan:g}),p.connectedDots.push(s)}return d}(n.numberOfDots,n.width,n.height,n.fps);return setInterval((function(){if(i.clearRect(0,0,n.width,n.height),n.gradient){var d=Math.hypot(n.width/2,n.height/2),l=n.width/2+Math.cos(n.angle)*d,r=n.height/2+Math.sin(n.angle)*d,c=n.angle>180?n.angle-180:n.angle+180,s=n.width/2+Math.cos(c)*d,u=n.height/2+Math.sin(c)*d,p=i.createLinearGradient(l,r,s,u);p.addColorStop(0,n.bgColor1),p.addColorStop(1,n.bgColor2),i.fillStyle=p,i.fillRect(0,0,n.width,n.height)}else i.fillStyle=n.bgColor1,i.fillRect(0,0,n.width,n.height);for(var g=0;g<a.length;g++){var h=a[g];i.beginPath(),i.arc(h.position[0],h.position[1],h.diameter,0,2*Math.PI),i.fillStyle="rgba(".concat(n.color.r,", ").concat(n.color.g,", ").concat(n.color.b,", ").concat(h.opacity,")"),i.fill(),i.closePath();for(var v=0;v<h.linesTo.length;v++){var f=h.linesTo[v].dot;if(i.beginPath(),i.moveTo(h.position[0],h.position[1]),i.lineTo(f.position[0],f.position[1]),i.strokeStyle="rgba(".concat(n.color.r,", ").concat(n.color.g,", ").concat(n.color.b,", ").concat(h.linesTo[v].opacity,")"),i.stroke(),i.closePath(),h.linesTo[v].initiated)if(h.linesTo[v].lineLifespan--,h.linesTo[v].lineLifespan>0)h.linesTo[v].opacity=(h.linesTo[v].lineLifespan/h.linesTo[v].totalLineLifespan).toFixed(2);else{h.linesTo[v].dot.connectedDots.splice(h.linesTo[v].dot.connectedDots.indexOf(h),1);var b=o(a,h),m=n.fps*t(5,15);h.linesTo.splice(v,1,{dot:b,initiated:!1,opacity:1/n.fps,lineLifespan:m,totalLineLifespan:m}),b.connectedDots.push(h)}else h.linesTo[v].opacity+=1/n.fps,h.linesTo[v].opacity>=1&&(h.linesTo[v].opacity=1,h.linesTo[v].initiated=!0)}(h.position[0]+h.diameter/2<=20||h.position[0]+h.diameter/2>=e.width-20)&&(h.speed[0]*=-1),(h.position[1]+h.diameter/2<=20||h.position[1]+h.diameter/2>=e.height-20)&&(h.speed[1]*=-1),h.position[0]+=h.speed[0],h.position[1]+=h.speed[1]}}),Math.round(1e3/n.fps))};var a={bgColor1:"#2c0849",bgColor2:"#2d0629",lnColor:"#ff8800",color:e("#ff8800"),gradient:!0,angle:0,fps:20,numberOfDots:50};window.addEventListener("load",(function(){document.body.style.backgroundColor=a.bgColor1,document.getElementById("root").innerHTML='<canvas id="canvas"></canvas><div id="ui"> <div class="controlls-block"> <div class="controlls-container"> <div class="label">Back-<br/>ground<br/>color:</div> <input type="color" id="background-1" name="background-1"> <input type="color" id="background-2" name="background-2"> <div class="label">Gradient:</div> <input type="checkbox" id="gradient" name="gradient" checked="checked"> <div> <div class="label">Gradient<br/>angle:</div> <input type="range" id="angle" name="angle" min="0" max="359" value="0"> </div> </div> <div class="controlls-container"> <div class="label">Line<br/>color:</div> <input type="color" id="line-color" name="line-color"> </div> </div> <div class="controlls-block"> <div class="controlls-container"> <div id="buttons"> <a title="Re-draw" id="refresh"><i class="bi bi-bootstrap-reboot"></i></a> <a title="Download PNG" id="download"><i class="bi bi-download"></i></a> </div> <div id="copyright"><a href="https://ktomilin.com/" target="_blank">Â©ktomilin</a></div> </div> </div> </div>',a.width=parseInt(window.getComputedStyle(document.body).width),a.height=parseInt(window.getComputedStyle(document.body).height);var t,n=document.getElementById("canvas"),o=i(n,a);window.addEventListener("resize",(function(){clearInterval(o),clearTimeout(t),t=setTimeout((function(){a.width=parseInt(window.getComputedStyle(document.body).width),a.height=parseInt(window.getComputedStyle(document.body).height),o=i(n,a)}),1e3)}));var d=document.getElementById("background-1");d.value=a.bgColor1;var l=document.getElementById("background-2");l.value=a.bgColor2;var r=document.getElementById("gradient"),c=document.getElementById("line-color");c.value=a.lnColor;var s=document.getElementById("angle"),u=document.getElementById("refresh"),p=document.getElementById("download");r.addEventListener("change",(function(e){if(a.gradient=e.target.checked,a.gradient)return l.style.display="block",void(s.parentElement.style.display="block");l.style.display="none",s.parentElement.style.display="none"})),d.addEventListener("input",(function(e){a.bgColor1=e.target.value,document.body.style.backgroundColor=a.bgColor1})),l.addEventListener("input",(function(e){return a.bgColor2=e.target.value})),c.addEventListener("input",(function(t){return a.color=e(t.target.value)})),u.addEventListener("click",(function(){clearInterval(o),o=i(n,a)})),p.addEventListener("click",(function(){var e=n.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="output.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)})),s.addEventListener("input",(function(e){return a.angle=Number(e.target.value)/180*Math.PI}))}))})();